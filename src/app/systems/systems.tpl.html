<div class="panel panel-default">
  <div class="panel-heading"> 
    <h3 class="panel-title"> Systems </h3>
  </div>
  <div class='panel-body'> 

    <form class="form-search pull-left">
	<input type="text" ng-model="query" class="input-medium search-query" style="width:400px">
	<button class="btn" ng-click="search()">Search</button>
	<a href="" ng-click="launchHelp()" tooltip-placement="right" tooltip="Query syntax help">
	  <i class="fa-fixed-question fa fa-question" tooltip-placement="right"></i>
	</a>
    </form>

    <table class="table table-striped">
	<thead>
	  <tr>
	    <th>#</th>
	    <th>Hostname</th>
	    <th>Type</th>
	    <th>Hypervisor</th>
	    <th>Environment</th>
	    <th>Owner</th>
	    <th>Operations</th>
	    <th>Actions</th>
	  </tr>
	</thead>
	<tbody>
	  <tr ng-repeat="system in systems">
	    <td><a href="#/system/{{system.id}}">{{system.id}}</a></td>
	    <td>{{system.machine.hostname}}</td>
	    <td>{{system.type}}</td>
	    <td>{{system.hypervisor}}</td>
	    <td>{{system.env}}</td>
	    <td>{{system.owner}}</td>
	    <td>
		<div class="btn-group">
		  <a class="btn" href="" disabled><i class="fa fa-list-ul"></i></a>
		  <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
		    <span class="fa fa-caret-down"></span></a>
		  <ul class="dropdown-menu">
		    <li><a href="" ng-click="launchJob(system.id,'create')" tooltip-placement="right" tooltip="Create a running machine"><i class="fa-fixed-width fa fa-plus" ></i> Create</a></li>
		    <li><a href="/#/systems/clone/{{system.id}}" tooltip-placement="right" tooltip="Clone an existing machine"><i class="fa-fixed-width fa fa-copy" ></i> Clone</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'provision')" tooltip-placement="right" tooltip="Run provisioining"><i class="fa-fixed-width fa fa-gears" ></i> Provision</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'stage')" tooltip-placement="right" tooltip="Create and Provision"><i class="fa-fixed-width fa fa-refresh" ></i> Stage</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'start')" tooltip-placement="right" tooltip="Start the backing machine"><i class="fa-fixed-width fa fa-play" ></i> Start</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'stop')" tooltip-placement="right" tooltip="Stop the backing machine"><i class="fa-fixed-width fa fa-stop" ></i> Stop</a></li>
		    <li class="divider"></li>
		    <li><a href="" ng-click="launchJob(system.id,'destroy')" tooltip-placement="right" tooltip="Destroy machine"><i class="fa-fixed-width fa fa-trash-o" ></i> Destroy</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'reload')" tooltip-placement="right" tooltip="Destroy and re-create machine"><i class="fa-fixed-width fa fa-warning" ></i> Reload</a></li>
		    <li><a href="" ng-click="launchJob(system.id,'clear')" tooltip-placement="right" tooltip="Clear system model"><i class="fa-fixed-width fa fa-eraser" ></i> Clear</a></li>
		  </ul>
		</div>
	    </td>
	    <td> 
		<div class="btn-group" ng-hide="!system.actions">
		  <a class="btn" href="" disabled><i class="fa fa-list-ul"></i></a>
		  <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
		    <span class="fa fa-caret-down"></span></a>
		  <ul class="dropdown-menu">
		    <li ng-repeat="action in system.actions"><a ng-click="launchAction(system.id, action)">{{action.name}}</a></li>
		  </ul>
		  </li>
		</ul>
	    </div>
	  </td>
	</tr>
    </tbody>
  </table>

  <p class="text-right"> 
    <a href="#/system/add/" ><i class="fa fa-plus"></i>Add a System</a> 
  </p>


  <p class="text-center"> 
    <pagination boundary-links="true" total-items="count" page="currentPage" items-per-page="perPage" class="pagination-small" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
  </p>
</div>
</div>

